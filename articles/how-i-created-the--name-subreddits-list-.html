<!DOCTYPE html>
<html lang="en-GB">

<head>
	<title>Thaumatorium</title>
	<meta charset=utf-8 />
	<base href=/ />
	<meta name=description content="Where the Magic happens" />
	<meta name=theme-color content=#800 />
	<link rel=apple-touch-icon href=/images/icons-192.png>
	<meta name=viewport content="width=device-width, initial-scale=1">
	<link rel=manifest href=/manifest.json />
	<link rel=icon href=/images/favicon.svg />
	<link async rel=stylesheet href="/styles/layout.css?v=1" />
	<link async rel=stylesheet href="/styles/header.css?v=1" />
	<link async rel=stylesheet href="/styles/nav.css?v=1" />
	<link async rel=stylesheet href="/styles/main.css?v=1" />
	<link async rel=stylesheet href="/styles/footer.css?v=1" />
</head>

<body>
	<header>
		<div id=banner-logo>
			<a href="/">
				<img height=111 width=111 src="/images/logo.svg"
					alt="main logo consisting of a checkerboard pattern" />
			</a>
		</div>
		<div id=banner-text>
			<h1 class=title>The Thaumatorium:</h1>
			<div class=subtitle>Where the magic happens</div>
			<p><sub>Last updated: <time id=updated>2020-06-11</time></sub></p>
			<script>
				let updated = document.getElementById("updated");
				let date = new Date(document.lastModified);
				updated.innerHTML = date.toISOString().split("T")[0];
			</script>
		</div>
	</header>

	<nav>
		<a href>Frontpage</a>
		<span> - </span>
		<a href=pages/articles.html>Articles</a>
		<span> - </span>
		<a href=pages/projects.html>Projects</a>
		<span> - </span>
		<a href=pages/experimentations.html>Experimentations</a>
		<span> - </span>
		<a href=pages/code-of-conduct.html>Code of Conduct</a>
		<span> - </span>
		<a href=pages/about.html>About</a>
	</nav>

	<main>
		<section>
			<hgroup>
				<h2>How I created the &quot;name-subreddits list&quot;</h2>
				<div class=article-meta>
					<div class=article-published>Published:<br><time datetime=2020-06-14>2020-06-14</time></div>
					<div class=article-author>Author:<br>NostraDavid</div>
				</div>
			</hgroup>
			<div class=disclaimer>
				<p>This article contains affiliate links to amazon - that is how I can keep this site afloat. If you have a better idea, or an alternative where I can still make money but not support giant corporations, please open up an <a href=https://github.com/Thaumatorium/thaumatorium.github.io/issues>Issue</a> on Github and let me know!</p>
			</div>
			<p>It started in 2018 with creating a file containing all subreddit names from the site's sitemap (which has been made unavailable for unknown reasons) </p>
			<p>I downloaded all XML files and wrote a &quot;throw-away-script&quot; to pull out the important bits (the names) and throw the rest of the information away, which left me with a file of about a million subreddit names.</p>
			<p>I've had that file laying around for a while now, not really knowing what to do with it, but it's handy to keep data around every now and then!
			<p>So, after a curious search for my own name, to see if there was a subreddit of people who share my name, my brain started churning: What if there are others?</p>
			<p>After digging around a bit I found several others: Kyle, Dan, Daniel, Dave, Michael, among others...</p>
			<p>But why not make a giant list of <strong>all</strong> the subreddits that relate to a name?</p>
			<p>To do this, I would need a giant list of first names and basically filter out all existing subreddits that did not exist in the names list, which would leave me list a list of subreddits that <em>did</em> exist in that list</p>
			<p>Good thing I had that file with all those subreddits laying around!</p>
			<p>Now, where to find a list of names? <em>Books</em>, of course!</p>
			<p>After a short search I found <a>Bruce Lansky's &quot;100,000+ baby names&quot;</a>, so I bought the Kindle version, converted it to text and got to work in my text editor to filter out most (if not all) names.</p>
			<p>After fiddling with regex for a bit, I got left with a list of 95477 names. Not really 100k, but close enough.</p>
			<p>While thinking about how to filter the subreddit list, I remembered that Excel had such a functionality! Quickly throwing those two lists in an Excel sheet and using <code>Conditional Formatting</code> on both lists to mark the names that were in both was a breeze, but to then <em>filter</em> those lists took quite a bit longer. This is mostly because Excel isn't made to filter lists of at least a 100k items!</p>
			<p>At first I tried to filter the subreddit list (which was about a million items long), but after two hours of waiting for the list to filter out all unmarked items, I force-quit Excel and tried to do the same on the names list instead. Success!</p>
			<p>I was left with a neat list of just a &quot;measly&quot; 8221 items it was time to turn to reddit to extract some information.</p>
			<p>Lucky for me, Reddit has public information on each subreddit! Even better: You can access such information by adding <code>.json</code> after each URL. Annoying, but understandable: information about a subreddit was somewhat hidden in <code>/r/[SUBREDDIT]/about/.json</code>, instead of the normal <code>/r/[SUBREDDIT]/.json</code>, but eh, it's not the worst. </p>
			<p>Now I was ready to extract the information I needed, but how? Well, this <em>is</em> the web, so it seems reasonable to use Javascript (even though I don't like the language for several reasons) for the task at hand, which I did.</p>
			<p>I turned the list of name-subreddits into a list of URLs, through arcane magic called <code>regex</code>, after which I threw the list into a <code>.js</code> file.</p>
			<pre><code>
				const urls = ["https://old.reddit.com/r/aakash/about/.json", 
				"https://old.reddit.com/r/aalia/about/.json", 
				"https://old.reddit.com/r/aarav/about/.json", 
				...
				"https://old.reddit.com/r/whittaker/about/.json", 
				"https://old.reddit.com/r/who/about/.json", 
				"https://old.reddit.com/r/whoopee/about/.json"]
			</code></pre>
			<p>And remember kids, Reddit has a rate limit of <strong>30 requests per minute!</strong> If you go over that, you'll be temporarily blocked!</p>
		</section>
	</main>
	<footer>
		<div class=copyright>
			&copy;<a href="https://www.youtube.com/watch?v=czgOWmtGVGs" style="text-decoration: none; color: #800;">12019</a>
			&ndash; <a id=target-year href="http://updateyourfooter.com/" style="text-decoration: none; color: #800;"></a>,
			<abbr
				title="Copyright is implicit, almost anywhere in the world! If you want to know more, wikipedia 'Berne Convention'"
				style="text-decoration: none; color: #800;">Thaumatorium</abbr>

		</div>
		<!-- Sssh - don't tell anyone! -->
		<a class=secret onclick=specialGoto(event)
			style="text-decoration: none; color:#800; cursor: default;font-family: sans-serif; font-size: small;">&#960;</a>
	</footer>
	<script async src=pwa.js></script>
	<script>
		let ty = document.getElementById("target-year");
		ty.innerHTML = new Date().getFullYear() + 10000;

		const specialGoto = (event) => {
			if (event.ctrlKey && event.shiftKey) {
				window.location.href = "/pages/praetorianpi.html";
			}
		}
	</script>
</body>

</html>