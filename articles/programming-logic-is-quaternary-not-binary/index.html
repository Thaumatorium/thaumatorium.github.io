<!doctype html>
<html lang="en-GB">
	<head prefix="og: http://ogp.me/ns#">
		<meta charset="utf-8" />
		<title>Programming Logic Is Quaternary Not Binary (Tony Hoare did nothing wrong) | The Thaumatorium</title>
		<meta name="description" content="" />
		<link rel="canonical" href="https://thaumatorium.com/" />
		<meta name="theme-color" content="#800" />
		<link rel="apple-touch-icon" href="/images/icons-192.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="webmanifest" href="/manifest.json" />
		<link rel="icon" href="/images/favicon.svg" />
		<link rel="stylesheet" href="/styles/main.css?v=3" />
		<link rel="stylesheet" href="/styles/projects.css?v=3" />
		<meta property="og:url" content="https://thaumatorium.com/" />
		<meta property="og:type" content="website" />
		<meta property="og:title" content="Programming Logic Is Quaternary Not Binary (Tony Hoare did nothing wrong)" />
		<meta property="og:description" content="" />
		<meta property="og:image" content="https://thaumatorium.com/images/opengraph-cover.png?v=1" />
		<meta property="og:image:width" content="1280" />
		<meta property="og:image:height" content="668" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:site" content="@NostraDavid2" />
		<meta name="twitter:creator" content="@NostraDavid2" />
		<meta name="twitter:title" content="Programming Logic Is Quaternary Not Binary (Tony Hoare did nothing wrong)" />
		<meta name="twitter:description" content="" />
		<meta name="twitter:image" content="https://thaumatorium.com/images/opengraph-cover.png?v=1" />
		<meta name="twitter:image:width" content="1280" />
		<meta name="twitter:image:height" content="668" />
	</head>
	<body>
		<header>
			<div class="title">The Thaumatorium:</div>
			<div class="subtitle">Where the magic happens</div>
		</header>
		<nav>
			<h5 style="display: none">Main nav menu</h5>
			<ul>
				<li><a href="/">Frontpage</a><span> - </span></li>
				<li><a href="/articles">Articles</a><span> - </span></li>
				<li><a href="/projects">Projects</a><span> - </span></li>
				<li><a href="/warcraft-credits">Warcraft Credits</a><span> - </span></li>
				<li><a href="/random-video">Random video</a><span> - </span></li>
				<li><a href="/epoch">Epoch</a><span> - </span></li>
				<li><a href="/knowledge-base">Knowledge Base</a><span> - </span></li>
				<li><a href="/about">About</a></li>
			</ul>
		</nav>
		<main>
			<h1>Programming Logic Is Quaternary Not Binary (Tony Hoare did nothing wrong)</h1>
			<p>Alternative titles:</p>
			<ul>
				<li>&ldquo;Tony Hoare did nothing wrong - in fact, he didn&rsquo;t go far enough&rdquo;</li>
				<li>&ldquo;E.F. &lsquo;The Coddfather&rsquo; Codd was right all along&rdquo;</li>
			</ul>
			<blockquote>
				<p><a href="https://en.wiktionary.org/wiki/quaternary">How to pronounce &ldquo;Quaternary&rdquo;?</a> (I prefer the &ldquo;Audio (General Australian)&rdquo; version)</p>
			</blockquote>
			<p>I&rsquo;ve been programming since 2009, professionally since 2021, and I&rsquo;ve written programs in Python (my current go-to due to professional reasons), C (my first language - can highly recommend as beginner language), C++, C#, Java, Haskell (my first FP language - <a href="https://learnyouahaskell.github.io/chapters.html">can also highly recommend (Primeagen pls read)</a>), Typescript (ew), Javascript (ew), PowerShell, Bash, and have dipped my toes in Rust, Go, Elm, Lisp, Visual Basic (ew), and last but not least Lua.</p>
			<p>I&rsquo;m telling you this to explain that I have a very <em>broad</em> knowledge of programming, with a <em>deep</em> one in Python - I won&rsquo;t claim to be an expert in any other language besides Python, and even in Python there&rsquo;s plenty I&rsquo;ve barely touched due to a lack of necessity.</p>
			<p>In all this time the only two languages that broke my brain out of learned paradigms were Haskell and SQL.</p>
			<p>Haskell for its Functional Programming paradigm, clearly, but SQL I did not expect.</p>
			<p>See, it&rsquo;s not so much SQL itself, but the theory behind it - Relational Algebra, Relational Calculus, and the whole idea of the Relational Model, as invented by Edgar F. &ldquo;The Coddfather&rdquo; Codd in 1969 (†2003).</p>
			<p>In 1990 The Coddfather released a book called &ldquo;The Relational Model for Database Management: Version 2&rdquo; (RM/V2 after this), where he introduced the idea of &ldquo;Four-Valued Logic&rdquo; - that is, a logic system with four truth values, instead of the typical two (True and False).</p>
			<p>This idea initially broke my brain, because <em>computers are binary, right?</em> <em>So how does having four truth values make sense?</em></p>
			<p>Well, through my experience I&rsquo;ve noticed that we&rsquo;ve been using quaternary logic all this time, without even realizing it!</p>
			<p>Take the previously mentioned Python, for example. Lets say I have a function that returns a boolean. This same function could also return None, if it doesn&rsquo;t know the answer because returning True or False doesn&rsquo;t make sense. So now we have three possible return values: True, False, and None. But what if the function fails to execute due to exceptional sitation? Now we have a fourth possible return value: an exception. Yes, the mechanisms are different, but it&rsquo;s still a value you as a programmer will have to handle.</p>
			<p>Again, now we have four possible return values that can be returned from a single function:</p>
			<ul>
				<li><code>True</code></li>
				<li><code>False</code></li>
				<li><code>None</code></li>
				<li><code>Exception</code> (any kind).</li>
			</ul>
			<p>This is a perfect example of quaternary logic in action in a super common programming language.</p>
			<p>So, how does this relate to SQL? Well, in <a href="https://codeblab.com/wp-content/uploads/2009/12/rmdb-codd.pdf">RM/V2</a> (Relational Model, version 2 - yes, Codd numbered his models like a programming language) Codd introduces <code>TRUE</code> (<code>t</code>), <code>FALSE</code> (<code>f</code>), <code>MAYBE BUT APPLICABLE</code> (<code>a</code>), and <code>MAYBE BUT INAPPLICABLE</code> (<code>i</code>) - Everything is shouted, because all language did so back in the 1960s. Anyway, <code>t</code> and <code>f</code> are named <em>&ldquo;values&rdquo;</em>, and <code>i</code> and <code>a</code> are named <em>&ldquo;markers&rdquo;</em>.</p>
			<h3 id="a-code-example">
				<a class="self-link" href="#a-code-example"> A code example </a>
			</h3>
			<p>See <a href="./example.py">example.py</a> for a full example that you can run locally, but here&rsquo;s the relevant code snippet:</p>
			<div class="highlight">
				<pre tabindex="0" style="color: #f8f8f2; background-color: #272822; -moz-tab-size: 4; -o-tab-size: 4; tab-size: 4"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">is_email_verified</span>(user: User) <span style="color:#f92672">-&gt;</span> bool <span style="color:#f92672">|</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Yes, this code is contrived, for the sake of example, such that beginners can follow the logic as well.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> user<span style="color:#f92672">.</span>verified <span style="color:#f92672">is</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">True</span>  <span style="color:#75715e"># TRUE</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> user<span style="color:#f92672">.</span>verified <span style="color:#f92672">is</span> <span style="color:#66d9ef">False</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">False</span>  <span style="color:#75715e"># FALSE</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> user<span style="color:#f92672">.</span>verified <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span> <span style="color:#f92672">and</span> user<span style="color:#f92672">.</span>email <span style="color:#f92672">is</span> <span style="color:#f92672">not</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">None</span>  <span style="color:#75715e"># MAYBE BUT APPLICABLE</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># MAYBE BUT INAPPLICABLE</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ValueError</span>(<span style="color:#e6db74">&#34;Predicate inapplicable: no email provided&#34;</span>)
</span></span></code></pre>
			</div>
			<p>You may argue that you&rsquo;d never write code like this, and I&rsquo;d agree - it&rsquo;s a little messy, but you can&rsquo;t tell me that you&rsquo;ve never seen code like this in production.</p>
			<p>My frustration is that the <code>bool | None</code> doesn&rsquo;t properly expresses the fourth possible return value.</p>
			<p>Luckily, Haskell and Rust already have a solution for this - Monadic types! I&rsquo;m not going to explain monads in detail, but think of them as a coloured box that holds a value, and the colour of the box will tell you something about the type of content it holds - for example, if it&rsquo;s a success or a failure, regardless of whether that value is <code>t</code>, <code>f</code>, <code>a</code>, or <code>i</code>.</p>
			<p>Haskell and Rust have this built-in, but using the <code>returns</code> library in Python, we can express this idea like so:</p>
			<p>Again, see <a href="./monadic_example.py">monadic_example.py</a> for a full example that you can run locally, but here&rsquo;s the relevant code snippet:</p>
			<div class="highlight">
				<pre tabindex="0" style="color: #f8f8f2; background-color: #272822; -moz-tab-size: 4; -o-tab-size: 4; tab-size: 4"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">is_email_verified</span>(user: User) <span style="color:#f92672">-&gt;</span> Result[Maybe[bool], <span style="color:#a6e22e">Exception</span>]:
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Yes, this code is contrived, for the sake of example, such that beginners can follow the logic as well.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> user<span style="color:#f92672">.</span>verified <span style="color:#f92672">is</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> Success(Some(<span style="color:#66d9ef">True</span>))  <span style="color:#75715e"># TRUE</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> user<span style="color:#f92672">.</span>verified <span style="color:#f92672">is</span> <span style="color:#66d9ef">False</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> Success(Some(<span style="color:#66d9ef">False</span>))  <span style="color:#75715e"># FALSE</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> user<span style="color:#f92672">.</span>verified <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span> <span style="color:#f92672">and</span> user<span style="color:#f92672">.</span>email <span style="color:#f92672">is</span> <span style="color:#f92672">not</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> Success(Nothing)  <span style="color:#75715e"># MAYBE BUT APPLICABLE</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> Failure(
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">ValueError</span>(<span style="color:#e6db74">&#34;Predicate inapplicable: no email provided&#34;</span>)
</span></span><span style="display:flex;"><span>    )  <span style="color:#75715e"># MAYBE BUT INAPPLICABLE</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># How to use is_email_verified:</span>
</span></span><span style="display:flex;"><span>users <span style="color:#f92672">=</span> [  <span style="color:#75715e"># 4 users with different verification states</span>
</span></span><span style="display:flex;"><span>    User(<span style="color:#e6db74">&#34;alice&#34;</span>, <span style="color:#e6db74">&#34;alice@example.com&#34;</span>, <span style="color:#66d9ef">True</span>),
</span></span><span style="display:flex;"><span>    User(<span style="color:#e6db74">&#34;bob&#34;</span>, <span style="color:#e6db74">&#34;bob@example.com&#34;</span>, <span style="color:#66d9ef">False</span>),
</span></span><span style="display:flex;"><span>    User(<span style="color:#e6db74">&#34;carol&#34;</span>, <span style="color:#e6db74">&#34;carol@example.com&#34;</span>, <span style="color:#66d9ef">None</span>),
</span></span><span style="display:flex;"><span>    User(<span style="color:#e6db74">&#34;dave&#34;</span>, <span style="color:#66d9ef">None</span>, <span style="color:#66d9ef">None</span>),
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> user <span style="color:#f92672">in</span> users:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># you use monads always with the `match` statement, to make life easier.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">match</span> is_email_verified(user):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> Success(Some(<span style="color:#66d9ef">True</span>)):
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>user<span style="color:#f92672">.</span>username<span style="color:#e6db74">}</span><span style="color:#e6db74"> is verified&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> Success(Some(<span style="color:#66d9ef">False</span>)):
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>user<span style="color:#f92672">.</span>username<span style="color:#e6db74">}</span><span style="color:#e6db74"> is NOT verified&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> Success(Nothing):
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>user<span style="color:#f92672">.</span>username<span style="color:#e6db74">}</span><span style="color:#e6db74"> has unknown verification status&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> Failure(error):
</span></span><span style="display:flex;"><span>            print(
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Could not determine </span><span style="color:#e6db74">{</span>user<span style="color:#f92672">.</span>username<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;s verification status: </span><span style="color:#e6db74">{</span>error<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>            )
</span></span></code></pre>
			</div>
			<p>So, long story short - programming logic is quaternary, not binary. Embrace it, if you can, and use it to your advantage.</p>
			<p>No articles found in this section.</p>
		</main>
		<footer>
			<div class="copyright">
				©<a href="https://www.youtube.com/watch?v=czgOWmtGVGs" style="text-decoration: none; color: #800">12019</a> – <a id="target-year" href="http://updateyourfooter.com/" style="text-decoration: none; color: #800">12025</a>,
				<abbr title="Copyright is implicit, almost anywhere in the world! If you want to know more, wikipedia 'Berne Convention'" style="text-decoration: none; color: #800">Thaumatorium</abbr>
				<p>
					<sub>Last updated: <time id="updated">2025-08-23</time></sub>
				</p>
			</div>
			<nav id="profiles"></nav>
			<a class="secret" onclick="specialGoto(event)">π</a>
			<script>
				const specialGoto = (event) => {
					if (event.ctrlKey && event.shiftKey) window.location.href = "/praetorianpi/";
				};
			</script>
		</footer>
	</body>
</html>
